<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Object to primitive</title>
    <link type="text/css" href="../../style.css" rel="stylesheet">
</head>
<body>
    <h2>Теорія</h2>
    <p>
        Всі об’єкти – це true в булевому контексті. Є лише числові та рядкові конверсії.
        <br>Числове перетворення відбувається, коли ми віднімаємо об’єкти або застосовуємо математичні функції. Наприклад, Date об’єкти (розглянуті в розділі Дата і час) можуть відніматися, і результат date1 - date2 – це різниця у часі між двома датами.
        <br>Що стосується перетворення рядків – це зазвичай відбувається, коли ми виводимо об’єкт, наприклад alert(obj) і в подібних контекстах.
    </p>
    <p>
       Перетворення об'єкту в примітив викликається автоматично багатьми вбудованими функціями ти операторами, які очікують примітив в якості значення.
    </p>
    <p>
        Є 3 типи (hints]) цього:
        <br>"string" (для alert та інших операцій, які потребують рядка)
        <br> "number" (для математичних операцій)
        <br>"default" (кілька операторів, зазвичай об’єкти реалізують це так само як і "number".)
    </p>
    <p>
        Специфікація явно описує, який оператор використовує який хінт.
        <br>Алгоритм перетворення:
        <br>Викликати <span class="code">obj[Symbol.toPrimitive](hint)</span>, якщо метод існує,
        <br> Інакше, якщо hint – це "string", спробувати <span class="code">obj.toString()</span> або <span class="code">obj.valueOf()</span>, залежно від того, що існує.
        <br> Інакше, якщо hint – це "number" чи "default", то спробувати <span class="code">obj.valueOf()</span> або <span class="code">obj.toString()</span>, залежно від того, що існує.
    </p>
    <p>Усі ці методи повинні повернути примітив (якщо визначені). На практиці досить часто для реалізації достатньо лише obj.toString() як універсального методу для перетворення рядків, який повинен повернути “читабельне для людини” представлення об’єкта, для цілей логування або пошуку помилок.</p>
</body>
</html>