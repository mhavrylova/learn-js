<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Optional chaining</title>
    <link type="text/css" href="../../style.css" rel="stylesheet">
</head>
<body>
    <h2>Теорія</h2>
    <p>
        Опційний ланцюжок ?. – це безпечний спосіб доступу до вкладених властивостей об’єктів, навіть якщо проміжних властивостей не існує.
        <br>Наприклад, розглянемо об’єкт <span class="code">user</span> який містить інформацію про наших користувачів.
        <br>В більшості наших користувачів є адреса <span class="code">user.address</span> з вулицею <span class="code">user.address.street</span>, проте дехто вирішив взагалі не вказувати адресу.
        <br>Отож якщо користувач не вказав адресу, а ми своєю чергою спробуємо отримати доступ до властивості <span class="code">user.address.street</span>, то отримаємо помилку, тому що address буде undefined, а ми не можемо отримати  street з undefined.
    </p>
    <p>Або якщо звертаємось до якогось елементу в ДОМ, а його немає, то повернеться null і якщо ми нам агатимемось отримати якусь властивіть вссередині цього об'єкту, то отримаємо помилку</p>
    <p>Опціональний ланцюжок ?. припиняє обчислення, якщо значення перед ?. є undefined або null, і повертає undefined.</p>
    <code>
        let user = {}; // користувач без властивості "address"
        <br>alert( user?.address?.street ); // undefined (немає помилки)
    </code>
    <br>
    <code>
        let html = document.querySelector('.elem')?.innerHTML; // буде undefined, якщо немає елемента
    </code>
    <p>Читання властивості “address” з user?.address спрацює навіть коли в змінній user зберігається зовсім не об’єкт:</p>
    <code>
        let user = null;
        <br>alert( user?.address ); // undefined
        <br>alert( user?.address.street ); // undefined
    </code>
    <p>синтаксис ?. робить необов’язковою тільки властивість перед ним, а не будь-яку наступну.
        ?. негайно припиняє обчислення, якщо лівої частини не існує.
        Таким чином, якщо є додаткові виклики функцій або операції праворуч від ?., вони не будуть виконані.
    </p>
    <p>
        ?.() використовується для виклику потенційно відсутньої функції. ?.[], якщо ми хочемо отримати доступ до властивості за допомогою квадратних дужок [], а не через крапку ..
    </p>
</body>
</html>